<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>
<body>
    <section class='formulario item-body center'>
        <div class="div-form" id="div-form">
                <p class="item-relato">Nome:</p>
                <input class="item-relato" name="nome" id="nome" placeholder="Nome" required >
                <p class="item-relato">Senha:</p>
                <input class="item-relato" name="senha" id="senha" placeholder="Senha" required >
                <button class="item-relato" name="btlogin" onclick="login()">Login</button>
        </div>
    </section>        
</body>
<script>
  async function login(){
    try{
       const nome = document.getElementById("nome").value
       const senha = document.getElementById("senha").value
       const result = await fetch('http://localhost:8080/login',{
           method:"POST",
           body: JSON.stringify({nome,senha}),
           headers:{
               "Content-Type": "application/json",
           },
       });
       const json = await result.json()
       localStorage.setItem('token',json.token)
       console.log(json)
       window.location.replace("http://127.0.0.1:5500/pesquisa.html");

    }catch(err){
        console.log(err)
    }
  }        

  
</script>
</html>